<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Syntax Highlighting Demo</title>
    <link rel="stylesheet" href="style.css">
    <script src="syntaxhighlighter.js" defer></script>
    
</head>
<body>
    <div id="mainWrapper">
<div class="center"><span class="title">syntaxhighlighter.js</span></div>

<div class="small-title">HTML</div>
   <div class="center"><div id="testHTML" class="syntaxHTML"></div></div> 
<div class="center"><button class="editCode" value="testHTML">Edit Code</button></div>

<div class="small-title">CSS</div>
<div class="center"><div id="testCSS" class="syntaxCSS"></div></div> 
<div class="center"><button class="editCode" value="testCSS">Edit Code</button></div>
</div>
<div id="typeCodeContainer">
    <textarea spellcheck="false" id="typeCode" cols="30" rows="10"></textarea>
    <div id="closeEditor">&times;</div>
   <div class="center"> <button id="submitCode">Submit Code &#62;</button></div>
</div>
    
<!-- SCRIPTS -->
<script src="script.js"></script>
<script defer>document.getElementById("submitCode").addEventListener("click", getCode);
var valueTempHereLOL = "";
var CSSText = document.getElementById("testCSS").textContent.replace(/(<br[ ]*>)|(<br[ ]*\/>)/gi,"\n");
var HTMLText = document.getElementById("testHTML").textContent.replace(/(<br[ ]*>)|(<br[ ]*\/>)/gi,"\n");
var currentIDFORME = "";

    var codeEdits = document.querySelectorAll(".editCode");
    codeEdits.forEach(function(record){
        record.addEventListener("click", function(evt){
            var currrentText;
            if (evt.target.value == "testCSS") {
            currrentText = CSSText;
            currentIDFORME = "testCSS";
            } else if(evt.target.value == "testHTML") {
                currrentText = HTMLText;
                currentIDFORME = "testHTML";
            }
            console.log(evt.target.value)
        document.getElementById("typeCode").value = currrentText;
        document.getElementById("mainWrapper").style.overflow = "hidden";
        document.getElementById("typeCodeContainer").style.display = "block";
        document.getElementById("typeCodeContainer").style.top = "0";
        
    });
    });
    
    

    document.getElementById("closeEditor").addEventListener("click", function(){
        document.getElementById("mainWrapper").style.overflow = "auto";
        document.getElementById("typeCodeContainer").style.top = "100vh";
        document.getElementById("typeCodeContainer").style.display = "none";
    });
    
    function getCode() {
        // REFRESH
        document.getElementById("testHTML").textContent = HTMLText;
        document.getElementById("testCSS").textContent = CSSText;
        if(currentIDFORME == "testHTML") {
            HTMLText = document.getElementById("typeCode").value;
        } else if(currentIDFORME == "testCSS") {
            CSSText = document.getElementById("typeCode").value;
        }
        document.getElementById(currentIDFORME).textContent = document.getElementById("typeCode").value;
        document.getElementById("mainWrapper").style.overflow = "auto";
        document.getElementById("typeCodeContainer").style.top = "100vh";
        document.getElementById("typeCodeContainer").style.display = "none";
        syntaxHighlighterScript();
    }</script>
</body>
</html>